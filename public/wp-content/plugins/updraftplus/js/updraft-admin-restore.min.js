jQuery(document).ready(function(e){function r(r){var t=new XMLHttpRequest,a="action=updraft_ajaxrestore&updraftplus_ajax_restore=do_ajax_restore&job_id="+r,s=0,o=!0;t.open("POST",ajaxurl,!0),t.onprogress=function(r){if(r.currentTarget.status>=200&&r.currentTarget.status<300){if(-1!==r.currentTarget.responseText.indexOf("<html"))return o&&(o=!1,alert("UpdraftPlus "+updraftlion.ajax_restore_invalid_response)),e("#updraftplus_ajax_restore_output").append("UpdraftPlus "+updraftlion.ajax_restore_invalid_response),console.log("UpdraftPlus restore error: HTML detected in response could be a copy of the WordPress front page caused by mod_security"),void console.log(r.currentTarget.responseText);if(s==r.currentTarget.responseText.length)return;var t=r.currentTarget.responseText.substr(s);e("#updraftplus_ajax_restore_output").append(t),s=r.currentTarget.responseText.length}else e("#updraftplus_ajax_restore_output").append("UpdraftPlus restore error: "+r.currentTarget.status+" "+r.currentTarget.statusText),console.log("UpdraftPlus restore error: "+r.currentTarget.status+" "+r.currentTarget.statusText),console.log(r.currentTarget)},t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send(a)}var t=e("#updraftplus_ajax_restore_job_id").val();r(t)});