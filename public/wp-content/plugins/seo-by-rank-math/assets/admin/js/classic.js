!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=75)}({0:function(e,t){e.exports=wp.i18n},11:function(e,t){e.exports=wp.url},13:function(e,t,n){"use strict";var a=document.createElement("div");t.a=function(e){return e&&"string"==typeof e&&(e=e.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,"").replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,""),a.innerHTML=e,e=a.textContent,a.textContent=""),e}},18:function(e,t,n){"use strict";var a=n(3);t.a=function(e,t,n,r){return""===e||Object(a.isUndefined)(t)?t:(t=Object(a.truncate)(t,{length:n,separator:r||" "})).replace(RegExp(e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&"),"gi"),(function(e){return'<mark className="highlight">'+e+"</mark>"}))}},19:function(e,t,n){"use strict";t.a=function(e){return 80<e?"good-fk":50<e?"ok-fk":"bad-fk"}},2:function(e,t){e.exports=wp.data},25:function(e,t,n){"use strict";var a=n(0),r=n(7);function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}t.a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),rankMath.is_front_page&&(Object(r.addFilter)("rankMath_analysis_contentLength","rank-math",this.contentLength),Object(r.addFilter)("rankMath_analysis_contentLength_boundaries","rank-math",this.contentLengthBoundary))}var t,n;return t=e,(n=[{key:"contentLength",value:function(e){return{hasScore:e.hasScore,failed:Object(a.__)("Content is %1$d words long. Consider using at least 300 words."),tooltipText:Object(a.__)("Minimum recommended content length should be 300 words.","rank-math"),emptyContent:Object(a.sprintf)(Object(a.__)("Content should be %1$s long.","rank-math"),'<a href="https://s.rankmath.com/100contentlength" target="_blank">'+Object(a.__)("300 words","rank-math")+"</a>")}}},{key:"contentLengthBoundary",value:function(){return{recommended:{boundary:299,score:8},belowRecommended:{boundary:200,score:5},low:{boundary:50,score:2}}}}])&&i(t.prototype,n),e}()},26:function(e,t,n){"use strict";function a(e,t){return e=(e=s.Helpers.cleanText(e)).replace(/\r?\n|\r/g," "),t?Object(o.truncate)(e,{length:t,separator:" "}):e}var r=n(4),i=n.n(r),s=n(8),o=n(3),c=n(7),l=n(9),u=n(13);t.a=function(e){var t=rankMathEditor.assessor.dataCollector.getData(),n=t.excerpt,r=function(e){if(Object(o.isEmpty)(e))return"";e=e.replace(/\[caption[^\]]*\](.*)\[\/caption\]/g,"");var t=Object(o.filter)(s.Helpers.matchParagraphs(e,!0,!0),(function(e){return""!=i.a.trim(e)}));if(!t.length)return"";var n=rankMathEditor.getPrimaryKeyword();if(""!==n){var r=Object(o.filter)(t,(function(e){return Object(o.includes)(e.toLowerCase(),n)}));if(0<r.length)return a(r[0],160)}return a(t[0],160)}(Object(u.a)(t.content)),h=Object(o.isUndefined)(n)||Object(o.isEmpty)(n)?r:n;if(l.a.setVariable("excerpt",h),l.a.setVariable("seo_description",h),""!==(e=Object(u.a)(Object(c.applyFilters)("rankMath/description",e))))return s.Helpers.cleanText(e);if(!Object(o.isUndefined)(n)&&!Object(o.isEmpty)(n))return s.Helpers.cleanText(n);var d=rankMath.assessor.serpData.descriptionTemplate;return Object(o.isUndefined)(d)||""===d?r:s.Helpers.cleanText(d)}},27:function(e,t,n){"use strict";var a=n(13);t.a=function(e,t){var n,r,i=Object(a.a)(e).length;return{left:Math.min(100,Math.floor(i/t.max*100))+"%",isInvalid:(n=i)<=(r=t).min||r.max<n,count:i+" / "+t.max}}},28:function(e,t){e.exports=Tagify},29:function(e,t,n){"use strict";var a=n(3);t.a=function(e,t){var n=Object(a.round)(e/t*100);if(n<100)return 49<n?"test-check-good":30<n?"test-check-ok":"test-check-bad"}},3:function(e,t){e.exports=lodash},31:function(e,t,n){"use strict";var a=n(3);t.a=function(){return!(Object(a.isNil)(window.wp)||Object(a.isNil)(wp.data)||Object(a.isNil)(wp.data.select("core/editor"))||!Object(a.isFunction)(wp.data.select("core/editor").getEditedPostAttribute))}},4:function(e,t){e.exports=jQuery},7:function(e,t){e.exports=wp.hooks},75:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n.n(a),i=n(3),s=n(8),o=n(7),c=n(0);function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.analyzer=new s.Analyzer({i18n:c,analyses:rankMath.assessor.researchesTests}),this.dataCollector=t,this.promises=[],this.hooks(),this.registerRefresh()}var t,n;return t=e,(n=[{key:"hooks",value:function(){this.assessAll=this.assessAll.bind(this),this.assessTitle=this.assessTitle.bind(this),this.assessContent=this.assessContent.bind(this),this.assessPermalink=this.assessPermalink.bind(this),this.updateKeywordResult=this.updateKeywordResult.bind(this),this.assessKeyword=this.assessKeyword.bind(this),this.assessThumbnail=this.assessThumbnail.bind(this),Object(o.addAction)("rankMath_analysis_keywordUsage_updated","rank-math",this.updateKeywordResult),Object(o.addAction)("rank_math_init_refresh","rank-math",this.assessAll),Object(o.addAction)("rank_math_title_refresh","rank-math",this.assessTitle),Object(o.addAction)("rank_math_content_refresh","rank-math",this.assessContent,11),Object(o.addAction)("rank_math_permalink_refresh","rank-math",this.assessPermalink,11),Object(o.addAction)("rank_math_featuredImage_refresh","rank-math",this.assessThumbnail,11),Object(o.addAction)("rank_math_keyword_refresh","rank-math",this.assessKeyword,11)}},{key:"getPaper",value:function(e){var t=this.dataCollector.getData(),n=new s.Paper("",{locale:rankMath.localeFull});return n.setTitle(t.title),n.setPermalink(t.slug),n.setDescription(t.description),n.setUrl(t.permalink),n.setText(Object(o.applyFilters)("rank_math_content",t.content)),n.setKeyword(s.Helpers.removeDiacritics(e)),Object(i.isUndefined)(t.featuredImage)||(n.setThumbnail(t.featuredImage.source_url),n.setThumbnailAltText(s.Helpers.removeDiacritics(t.featuredImage.alt_text))),n}},{key:"registerRefresh",value:function(){var e=this;this.refresh=Object(i.debounce)((function(t){e.promises=[],Object(o.doAction)("rank_math_"+t+"_refresh"),Promise.all(e.promises).then((function(){e.refreshResults()}))}),500)}},{key:"assessAll",value:function(){var e=this;rankMathEditor.components.focusKeywords.getFocusKeywords().map((function(t,n){e.run(0===n?rankMath.assessor.researchesTests:e.getSecondaryKeywordTests(),t,0===n)}))}},{key:"run",value:function(e,t,n){var a=1<arguments.length&&void 0!==t?t:"",r=2<arguments.length&&void 0!==n&&n;a=a||rankMathEditor.getSelectedKeyword();var i=this.getPaper(a);this.promises.push(this.analyzer.analyzeSome(this.filterTests(e),i).then((function(e){rankMathEditor.resultManager.update(i.getKeyword(),e,r)})))}},{key:"updateKeywordResult",value:function(e,t){rankMathEditor.resultManager.update(e,{keywordNotUsed:t}),e===rankMathEditor.getSelectedKeyword()&&this.refreshResults()}},{key:"assessThumbnail",value:function(){this.run(["keywordInImageAlt","contentHasAssets"])}},{key:"assessKeyword",value:function(){var e=rankMathEditor.getSelectedKeyword()===rankMathEditor.getPrimaryKeyword();this.run(e?rankMath.assessor.researchesTests:this.getSecondaryKeywordTests())}},{key:"getSecondaryKeywordTests",value:function(){return["keywordInContent","lengthContent","keywordInSubheadings","keywordDensity","lengthPermalink","linksHasExternals","linksNotAllExternals","linksHasInternal","titleSentiment","titleHasPowerWords","titleHasNumber","contentHasTOC","contentHasShortParagraphs","contentHasAssets"]}},{key:"assessTitle",value:function(){this.run(["keywordInTitle","titleHasPowerWords","titleHasNumber","titleSentiment","titleStartWithKeyword"])}},{key:"assessContent",value:function(){return this.run(["contentHasShortParagraphs","contentHasTOC","contentHasAssets","keywordDensity","keywordIn10Percent","keywordInContent","keywordInImageAlt","keywordInMetaDescription","keywordInSubheadings","lengthContent","linksHasExternals","linksHasInternal","linksNotAllExternals"])}},{key:"assessPermalink",value:function(){return this.run(["keywordInPermalink","lengthPermalink"])}},{key:"getPrimaryKeyword",value:function(){return rankMathEditor.components.focusKeywords.getPrimaryKeyword()}},{key:"getSelectedKeyword",value:function(){return rankMathEditor.components.focusKeywords.getSelectedKeyword()}},{key:"getResearch",value:function(e){return this.analyzer.researcher.getResearch(e)}},{key:"refreshResults",value:function(){Object(o.doAction)("rank_math_refresh_results")}},{key:"filterTests",value:function(e){return Object(i.intersection)(e,rankMath.assessor.researchesTests)}}])&&l(t.prototype,n),e}(),h=n(31),d=n(25);function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.methods=[],this.init=this.init.bind(this),this.refresh=this.refresh.bind(this),Object(o.addAction)("rank_math_loaded","rank-math",this.init)}var t,n;return t=e,(n=[{key:"init",value:function(){this.methods.length&&rankMathEditor.refresh("content")}},{key:"registerPlugin",value:function(e,t){console.warn("RankMathApp.registerPlugin is deprecated.")}},{key:"refresh",value:function(e){console.warn("RankMathApp.refresh is deprecated, use rankMathEditor.refresh()"),this.methods.push(e)}},{key:"reloadPlugin",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:"content";console.warn("RankMathApp.reloadPlugin is deprecated, use rankMathEditor.refresh()"),this.refresh(n)}}])&&p(t.prototype,n),e}(),m=n(2),k=n(9);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialize=!1,this.oldSlug=!1,this._data={id:!1,slug:!1,permalink:!1,content:!1,title:!1,excerpt:!1,featuredImage:!1},this.refresh=this.refresh.bind(this),Object(o.addAction)("rank_math_loaded","rank-math",this.refresh),this.getPostAttribute=this.getPostAttribute.bind(this),this.subscribeToGutenberg()}var t,n;return t=e,(n=[{key:"collectGutenbergData",value:function(){return!1===this.oldSlug&&""!==this.getSlug()&&(this.oldSlug=this.getSlug()),{id:this.getPostID(),slug:this.getSlug(),permalink:this.getPermalink(),content:this.getPostAttribute("content"),title:this.getPostAttribute("title"),excerpt:this.getPostAttribute("excerpt"),featuredImage:this.getFeaturedImage()}}},{key:"getPostID",value:function(){return rankMath.objectID}},{key:"getPermalink",value:function(){if("auto-draft"===this.getPostAttribute("status"))return"";var e=this.getPostAttribute("generated_slug");return"auto-draft"!==e&&"en"===rankMath.locale||(e=""),this._coreEditorSelect.getPermalink()}},{key:"getSlug",value:function(){if("auto-draft"===this.getPostAttribute("status"))return"";var e=this.getPostAttribute("generated_slug");return"auto-draft"!==e&&"en"===rankMath.locale||(e=""),this.getPostAttribute("slug")||e}},{key:"getFeaturedImage",value:function(){var e=this.getPostAttribute("featured_media");if(this.isValidMediaId(e)){var t=Object(m.select)("core").getMedia(e);if(!Object(i.isUndefined)(t))return t}}},{key:"isValidMediaId",value:function(e){return"number"==typeof e&&0<e}},{key:"getPostAttribute",value:function(e){return this._coreEditorSelect||(this._coreEditorSelect=Object(m.select)("core/editor")),this._coreEditorSelect.getEditedPostAttribute(e)}},{key:"subscribeToGutenberg",value:function(){this.subscriber=Object(i.debounce)(this.refresh,500),Object(m.subscribe)(this.subscriber)}},{key:"refresh",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this._data);this._data=this.collectGutenbergData(),this.handleEditorChange(e)}},{key:"handleEditorChange",value:function(e){var t=this,n={slug:"handleSlugChange",title:"handleTitleChange",excerpt:"handleExcerptChange",content:"handleContentChange",featuredImage:"handleFeaturedImageChange"};if(Object(i.isInteger)(e.id))return this.initialize?void Object(i.forEach)(n,(function(n,a){t._data[a]!==e[a]&&t[n](t._data[a])})):(this.initialize=!0,Object(i.forEach)(n,(function(e,n){t[e](t._data[n])})),void rankMathEditor.refresh("init"))}},{key:"handleSlugChange",value:function(){""!==this.getSlug()&&!1===this.oldSlug&&(this.oldSlug=this.getSlug()),rankMathEditor.refresh("permalink")}},{key:"handleTitleChange",value:function(e){k.a.setVariable("title",e),k.a.setVariable("term",e),k.a.setVariable("author",e),k.a.setVariable("name",e),rankMathEditor.refresh("title")}},{key:"handleExcerptChange",value:function(e){k.a.setVariable("excerpt",e),k.a.setVariable("excerpt_only",e),k.a.setVariable("wc_shortdesc",e),k.a.setVariable("seo_description",e),rankMathEditor.refresh("content")}},{key:"handleFeaturedImageChange",value:function(e){this._data.featuredImage=e,rankMathEditor.refresh("featuredImage")}},{key:"handleContentChange",value:function(){rankMathEditor.refresh("content")}},{key:"getData",value:function(){return this._data}},{key:"updateData",value:function(e,t){this._data[e]=t}}])&&b(t.prototype,n),e}();function w(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var _=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data={id:!1,slug:!1,permalink:!1,content:!1,title:!1,excerpt:!1,featuredImage:!1,description:""},this.refresh=this.refresh.bind(this),Object(o.addAction)("rank_math_loaded","rank-math",this.refresh),this.setup(),this.init()}var t,n;return t=e,(n=[{key:"init",value:function(){var e=this;this.elemTitle.on("input",Object(i.debounce)((function(){e.handleTitleChange(e.elemTitle.val())}),500)),this.elemDescription.on("input",Object(i.debounce)((function(){e.handleExcerptChange(e.elemDescription.val())}),500)),this.elemSlug.on("input",Object(i.debounce)((function(){rankMathEditor.updatePermalink(e.elemSlug.val())}),500))}},{key:"collectData",value:function(){this._data={id:this.getPostID(),slug:this.getSlug(),permalink:this.getPermalink(),content:this.getContent(),title:this.getTitle(),excerpt:this.getExcerpt(),featuredImage:this.getFeaturedImage()}}},{key:"getPostID",value:function(){return rankMath.objectID}},{key:"getTitle",value:function(){return this.elemTitle.val()}},{key:"getExcerpt",value:function(){var e=this.elemDescription.val();return k.a.setVariable("excerpt",e),k.a.setVariable("excerpt_only",e),k.a.setVariable("wc_shortdesc",e),k.a.setVariable("seo_description",e),e}},{key:"getPermalink",value:function(){return rankMath.homeUrl+"/"+this.elemSlug.val()}},{key:"getSlug",value:function(){return this.elemSlug.val()}},{key:"getFeaturedImage",value:function(){return this.featuredImage}},{key:"refresh",value:function(){this.collectData(),rankMathEditor.refresh("init")}},{key:"handleSlugChange",value:function(e){var t=rankMathEditor.components.SerpPreview;this.elemSlug.val(e),r()("#editable-post-name").text(e),r()("#editable-post-name-full").text(e),Object(i.isUndefined)(t.serpPermalinkField)||t.serpPermalinkField.val(e),this._data.slug=this.getSlug(),this._data.permalink=this.getPermalink(),rankMathEditor.refresh("permalink")}},{key:"handleTitleChange",value:function(e){k.a.setVariable("title",e),k.a.setVariable("term",e),k.a.setVariable("author",e),k.a.setVariable("name",e),rankMathEditor.refresh("title")}},{key:"handleExcerptChange",value:function(){this._data.excerpt=this.getExcerpt(),rankMathEditor.refresh("content")}},{key:"handleFeaturedImageChange",value:function(){this._data.featuredImage=this.getFeaturedImage(),rankMathEditor.refresh("featuredImage")}},{key:"handleContentChange",value:function(){this._data.excerpt=this.getExcerpt(),this._data.content=this.getContent(),rankMathEditor.refresh("content")}},{key:"getData",value:function(e){var t=0<arguments.length&&void 0!==e?e:"";return t?this._data[t]:this._data}},{key:"updateData",value:function(e,t){this._data[e]=t}},{key:"isTinymce",value:function(){return"undefined"!=typeof tinymce}}])&&w(t.prototype,n),e}();function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(a,_);var e,t,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a,r,i=C(e);if(t){var s=C(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return a=this,!(r=n)||"object"!==O(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(a):r}}(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n.apply(this,arguments)}return e=a,(t=[{key:"setup",value:function(){this.elemSlug=r()("#post_name"),this.elemTitle=r()("#title"),this.elemDescription=r()("#excerpt"),this.elemContent=r()("#content"),this.assessThumbnail=this.assessThumbnail.bind(this),Object(o.addAction)("rank_math_updated_featured_image","rank-math",this.assessThumbnail),this.events()}},{key:"getContent",value:function(){if(null!==this.elemContent&&0!==this.elemContent.length)return this.isTinymce()&&tinymce.activeEditor&&"content"===tinymce.activeEditor.id?tinymce.activeEditor.getContent():this.elemContent.val()}},{key:"events",value:function(){var e=this;this.elemContent.on("input change",Object(i.debounce)((function(){e.handleContentChange()}),500)),r()(window).on("load",(function(){e.isTinymce()&&(tinymce.activeEditor&&!Object(i.isUndefined)(tinymce.editors.content)&&tinymce.editors.content.on("keyup change",Object(i.debounce)((function(){e.handleContentChange()}),500)),tinymce.editors&&!Object(i.isUndefined)(tinymce.editors.excerpt)&&tinymce.editors.excerpt.on("keyup change",Object(i.debounce)((function(){tinymce.editors.excerpt.save(),e.handleExcerptChange()}),500)))})),r()(document).on("ajaxComplete",(function(t,n,a){if("/admin-ajax.php"==a.url.substr(-15)){var i="";"string"==typeof a.data&&~a.data.indexOf("action=sample-permalink")&&(i=""===n.responseText?e.elemTitle.val():r()("<div>"+n.responseText+"</div>").find("#editable-post-name-full").text(),rankMathEditor.updatePermalink(i))}}))}},{key:"assessThumbnail",value:function(e){this.featuredImage={source_url:e.src,alt_text:e.alt},this.handleFeaturedImageChange(e)}}])&&P(e.prototype,t),a}();function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(a,_);var e,t,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a,r,i=E(e);if(t){var s=E(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return a=this,!(r=n)||"object"!==x(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(a):r}}(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n.apply(this,arguments)}return e=a,(t=[{key:"setup",value:function(){this.elemSlug=r()("#slug"),this.elemTitle=r()("#name"),this.elemDescription=r()("#rank_math_description_editor"),this.events()}},{key:"getContent",value:function(){return null===this.elemDescription||0===this.elemDescription.length?"":this.isTinymce()&&tinymce.activeEditor&&"rank_math_description_editor"===tinymce.activeEditor.id?tinymce.activeEditor.getContent():this.elemDescription.val()}},{key:"events",value:function(){var e=this;r()(window).on("load",(function(){e.isTinymce()&&tinymce.activeEditor&&!Object(i.isUndefined)(tinymce.editors.rank_math_description_editor)&&tinymce.editors.rank_math_description_editor.on("keyup change",Object(i.debounce)((function(){e.handleContentChange()}),500))}))}}])&&M(e.prototype,t),a}();function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(a,_);var e,t,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a,r,i=K(e);if(t){var s=K(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return a=this,!(r=n)||"object"!==D(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(a):r}}(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n.apply(this,arguments)}return e=a,(t=[{key:"setup",value:function(){this.elemSlug=r()("#rank_math_permalink"),this.elemTitle=r()("#display_name"),this.elemDescription=r()("#description")}},{key:"getContent",value:function(){return this.elemDescription.val()}}])&&F(e.prototype,t),a}(),H=n(11),W=n(26),N=n(18),U=n(27);function z(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var V=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"check",value:function(e,t){this.elem=e,this.elem.parent().hasClass("length-indicator-wrapper")||this.wrapIndicator(t),this.updateLength(t)}},{key:"wrapIndicator",value:function(e){this.elem.wrap('<span class="length-indicator-wrapper"/>'),this.elem.parent().append('<span class="length-indicator"><span/></span><span class="length-count">0 / '+e.max+"</span>")}},{key:"updateLength",value:function(e){var t=this.elem.parent().find(".length-indicator"),n=t.find(">span"),a=this.elem.parent().find(".length-count"),r=Object(U.a)(e.text,e);t.removeClass("invalid short"),n.css("left",r.left),a.text(r.count),r.isInvalid&&t.addClass("invalid")}}])&&z(t.prototype,n),e}();function L(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var G=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title="",this.description="",this.lengthIndicator=new V}var t,n;return t=e,(n=[{key:"hooks",value:function(){this.previewDevice=this.previewDevice.bind(this),this.updatePreview=this.updatePreview.bind(this),this.updateTitlePreview=this.updateTitlePreview.bind(this),this.updatePermalinkPreview=this.updatePermalinkPreview.bind(this),this.updateDescriptionPreview=this.updateDescriptionPreview.bind(this),Object(o.addAction)("rank_math_preview_device","rank-math",this.previewDevice),Object(o.addAction)("rank_math_init_refresh","rank-math",this.updatePreview,1),Object(o.addAction)("rank_math_title_refresh","rank-math",this.updateTitlePreview,1),Object(o.addAction)("rank_math_permalink_refresh","rank-math",this.updatePermalinkPreview,1),Object(o.addAction)("rank_math_content_refresh","rank-math",this.updateDescriptionPreview,1),Object(o.addAction)("rank_math_keyword_refresh","rank-math",this.updatePreview,11)}},{key:"updatePreview",value:function(){this.updateTitlePreview(),this.updatePermalinkPreview(),this.updateDescriptionPreview()}},{key:"previewDevice",value:function(e){switch(this.devices.removeClass("active"),e){case"desktop":this.serpWrapper.removeClass("mobile-preview"),this.serpWrapper.addClass("desktop-preview expanded-preview"),rankMathEditor.elemMetabox.find(".rank-math-select-device.device-desktop").addClass("active");break;case"mobile":this.serpWrapper.removeClass("desktop-preview"),this.serpWrapper.addClass("mobile-preview expanded-preview"),rankMathEditor.elemMetabox.find(".rank-math-select-device.device-mobile").addClass("active");break;default:this.serpWrapper.removeClass("mobile-preview expanded-preview"),this.serpWrapper.addClass("desktop-preview")}}},{key:"updateTitlePreview",value:function(){this.title=this.serpTitleField.val(),this.serpTitleField.val(""!==this.title?this.title:this.serpTitle.data("format")),this.title=s.Helpers.sanitizeText(k.a.swap(""!==this.title?this.title:this.serpTitle.data("format"))),this.lengthIndicator.check(this.serpTitleField,{text:this.title,min:15,max:60}),this.serpTitle.html(Object(N.a)(rankMathEditor.getSelectedKeyword(),s.Helpers.sanitizeText(this.title),60)),this.updatePreviewCallbacks("title",this.title),this.serpTitle.trigger("rank-math-vars-replaced")}},{key:"updatePermalinkPreview",value:function(){var e=this.serpPermalink.data("format")||"",t=this.serpPermalinkField.val();this.permalink=""!==t?e.replace(/%(postname|pagename)%/,t).trimRight("/")+"/":"",this.serpCanonical.attr("placeholder",this.permalink),this.lengthIndicator.check(this.serpPermalinkField,{text:this.permalink,min:5,max:75}),this.serpPermalink.html(Object(N.a)(rankMathEditor.getSelectedKeyword(),s.Helpers.sanitizeText(Object(H.safeDecodeURIComponent)(this.permalink)),75)),this.updatePreviewCallbacks("permalink",this.permalink),this.serpPermalink.trigger("rank-math-vars-replaced")}},{key:"updateDescriptionPreview",value:function(){this.description=s.Helpers.sanitizeText(k.a.swap(Object(W.a)(this.serpDescriptionField.val()))),this.lengthIndicator.check(this.serpDescriptionField,{text:this.description,min:80,max:160}),this.serpDescription.html(Object(N.a)(rankMathEditor.getSelectedKeyword(),s.Helpers.sanitizeText(this.description),160)),this.serpDescriptionField.attr("placeholder",""!==this.description?this.description:this.serpDescription.data("format")),this.updatePreviewCallbacks("description",this.description),this.serpDescription.trigger("rank-math-vars-replaced")}}])&&L(t.prototype,n),e}();function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(a,G);var e,t,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Q(e);if(t){var r=Q(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return q(this,n)}}(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),e=n.call(this),rankMath.canUser.general?(e.hooks(),e.elemMetabox=rankMathEditor.elemMetabox,e.serpCanonical=e.elemMetabox.find("#rank_math_canonical_url"),e.serpTitleField=e.elemMetabox.find("#rank_math_title"),e.serpPermalinkField=e.elemMetabox.find("#rank_math_permalink"),e.serpDescriptionField=e.elemMetabox.find("#rank_math_description"),e.serpWrapper=e.elemMetabox.find(".serp-preview"),e.serpFieldsWrapper=e.elemMetabox.find(".rank-math-serp-fields-wrapper"),e.serpTitle=e.serpWrapper.find(".serp-title"),e.serpPermalink=e.serpWrapper.find(".serp-url"),e.serpDescription=e.serpWrapper.find(".serp-description"),e.devices=e.elemMetabox.find(".rank-math-select-device"),e.init(),e):q(e)}return e=a,(t=[{key:"init",value:function(){this.previewEvent(),this.updateEvents(),this.serpEvents(),this.robotsEvents()}},{key:"previewEvent",value:function(){this.devices.on("click",(function(e){e.preventDefault();var t=r()(e.currentTarget),n=t.hasClass("active")?"":t.data("device");Object(o.doAction)("rank_math_preview_device",n)}))}},{key:"serpEvents",value:function(){var e=this,t=this.elemMetabox.find(".rank-math-edit-snippet");t.on("click",(function(n){n.preventDefault(),t.toggleClass("hidden active"),e.serpFieldsWrapper.toggleClass("hidden")})),this.elemMetabox.on("click",".serp-title, .serp-url, .serp-description",(function(n){n.preventDefault(),t.toggleClass("hidden active"),e.serpFieldsWrapper.toggleClass("hidden")}))}},{key:"updateEvents",value:function(){var e=this;this.serpTitleField.on("input",Object(i.debounce)((function(){rankMathEditor.refresh("title")}),500)).on("keypress",(function(e){if(13===e.which||13===e.keyCode)return e.preventDefault(),r()(e.target).closest(".cmb-row").prev().trigger("click"),!1})),this.serpPermalinkField.val(this.serpPermalinkField.val()||rankMathEditor.assessor.dataCollector.getSlug()).on("blur",(function(){rankMathEditor.updatePermalink(e.serpPermalinkField.val())})).on("input",Object(i.debounce)((function(){e.updatePermalinkPreview()}),500)).on("keypress",(function(e){if(13===e.which||13===e.keyCode)return e.preventDefault(),r()(e.target).closest(".cmb-row").prev().trigger("click"),!1})),rankMath.is_front_page&&this.serpPermalinkField.val("/").attr("disabled","disabled"),this.serpDescriptionField.on("input",Object(i.debounce)((function(){rankMathEditor.refresh("content")}),500)).on("keypress",(function(e){if(13===e.which||13===e.keyCode)return e.preventDefault(),r()(e.target).closest(".cmb-row").prev().trigger("click"),!1}))}},{key:"updatePreviewCallbacks",value:function(e,t){e=e||"global",rankMathEditor.assessor.dataCollector.updateData(e,t),this.elemMetabox.trigger("rank-math-updating-preview-"+e),this.elemMetabox.trigger("rank-math-"+e+"-updated",t)}},{key:"robotsEvents",value:function(){var e=this,t=r()("#rank_math_robots1"),n=r()("#rank_math_robots2");t.on("change",(function(){t.is(":checked")?(e.serpWrapper.addClass("noindex-preview"),n.prop("checked",!1).trigger("change")):e.serpWrapper.removeClass("noindex-preview")})),n.on("change",(function(){if(n.is(":checked"))return e.serpWrapper.addClass("noindex-preview"),void t.prop("checked",!1);e.serpWrapper.removeClass("noindex-preview")})).trigger("change")}}])&&$(e.prototype,t),a}(),Y=n(13);function Z(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var ee=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elemMetabox=rankMathEditor.elemMetabox,this.currentNetwork="facebook",this.useFacebook=!0,this.shouldUpdatePreview=!1,this.facebookTitleField=this.elemMetabox.find("#rank_math_facebook_title"),this.facebookDescriptionField=this.elemMetabox.find("#rank_math_facebook_description"),this.twitterTitleField=this.elemMetabox.find("#rank_math_twitter_title"),this.twitterDescriptionField=this.elemMetabox.find("#rank_math_twitter_description"),this.facebookImageField=this.elemMetabox.find("#rank_math_facebook_image"),this.twitterImageField=this.elemMetabox.find("#rank_math_twitter_image"),this.facebookImageStatus=this.elemMetabox.find("#rank_math_facebook_image-status"),this.twitterImageStatus=this.elemMetabox.find("#rank_math_twitter_image-status"),this.socialWrapper=this.elemMetabox.find(".rank-math-social-preview"),this.socialPreview=this.socialWrapper.find(".rank-math-social-preview-item"),this.socialTitle=this.socialWrapper.find(".rank-math-social-preview-title"),this.socialDescription=this.socialWrapper.find(".rank-math-social-preview-description"),this.events(),this.shouldUpdatePreview=!0,this.updateTitlePreview=this.updateTitlePreview.bind(this),this.updateDescriptionPreview=this.updateDescriptionPreview.bind(this),this.updateThumbnailPreview=this.updateThumbnailPreview.bind(this),this.updatePreview=this.updatePreview.bind(this),Object(o.addAction)("rank_math_init_refresh","rank-math",this.updatePreview),Object(o.addAction)("rank_math_title_refresh","rank-math",this.updateTitlePreview,2),Object(o.addAction)("rank_math_content_refresh","rank-math",this.updateDescriptionPreview,2),Object(o.addAction)("rank_math_featuredImage_refresh","rank-math",this.updateThumbnailPreview),this.updatePreview()}var t,n;return t=e,(n=[{key:"events",value:function(){var e=this;this.facebookTitleField.on("input",(function(){e.updateTitlePreview()})),this.facebookDescriptionField.on("input",(function(){e.updateDescriptionPreview()})),this.facebookImageField.on("input",(function(){e.updateThumbnailPreview()})),this.twitterTitleField.on("input",(function(){e.updateTitlePreview()})),this.twitterDescriptionField.on("input",(function(){e.updateDescriptionPreview()})),this.twitterImageField.on("input",(function(){e.updateThumbnailPreview()}));var t=r()(".rank-math-social-preview-button"),n=t.find(">span");t.on("click",(function(t){t.preventDefault(),n.toggleClass("dashicons-arrow-down dashicons-arrow-up"),e.updatePreview(),e.socialWrapper.toggleClass("open"),e.socialPreview.slideToggle()}));var a=r()("#rank_math_twitter_card_type");r()(".preview-network").on("click",(function(n){r()(n.target).hasClass("tab-facebook")?t.show():a.trigger("change"),e.updatePreview()})),a.on("change",(function(){var n=a.val();"player"===n&&r()(".cmb2-id-rank-math-twitter-image, .cmb2-id-rank-math-twitter-title, .cmb2-id-rank-math-twitter-description").show();var i="player"===n||"app"===n;t.toggle(!i),r()(".cmb2-id-rank-math-twitter-use-facebook").toggle(!i),e.updatePreview()})).trigger("change");var i=r()("#rank_math_twitter_use_facebook2");r()("#rank_math_twitter_use_facebook1, #rank_math_twitter_use_facebook2").on("input change",(function(){e.useFacebook=i.is(":checked"),e.updatePreview()})).trigger("change"),r()(".cmb2-id-rank-math-facebook-enable-image-overlay, .cmb2-id-rank-math-facebook-image-overlay, .cmb2-id-rank-math-twitter-enable-image-overlay, .cmb2-id-rank-math-twitter-image-overlay").on("change","input",(function(){e.updateThumbnailOverlay()})),r()(document).on("cmb_media_modal_select",(function(t,n,a){"rank_math_facebook_image"!==a.field&&"rank_math_twitter_image"!==a.field||e.updateThumbnailPreview()})),r()(document).on("cmb_init",(function(t,n){n.$metabox.on("click",".cmb2-remove-file-button",(function(){e.updateThumbnailPreview()}))}))}},{key:"updatePreview",value:function(){!1!==this.shouldUpdatePreview&&r()(".preview-network.tab-active").length&&(this.currentNetwork=r()(".preview-network.tab-active").attr("href").replace("#setting-panel-social-",""),this.socialWrapper.removeClass(),this.socialWrapper.addClass("rank-math-social-preview rank-math-social-preview-"+this.currentNetwork),"twitter"===this.currentNetwork&&this.socialWrapper.addClass(r()("#rank_math_twitter_card_type").val()),this.updateTitlePreview(),this.updateDescriptionPreview(),this.updateThumbnailPreview())}},{key:"updateTitlePreview",value:function(){var e="twitter"===this.currentNetwork&&this.useFacebook?this.facebookTitleField.val():this[this.currentNetwork+"TitleField"].val();""!==e?e=this.truncate(k.a.swap(e),90):(e=Object(Y.a)(rankMathEditor.assessor.dataCollector.getData("title")),this.facebookTitleField.attr("placeholder",e),this.twitterTitleField.attr("placeholder",e)),this.socialTitle.text(e),"facebook"===this.currentNetwork&&this.hideDescription()}},{key:"updateDescriptionPreview",value:function(){var e="twitter"===this.currentNetwork&&this.useFacebook?this.facebookDescriptionField.val():this[this.currentNetwork+"DescriptionField"].val();""!==e?e=this.truncate(k.a.swap(e),240):(e=rankMathEditor.assessor.dataCollector.getData("description"),this.facebookDescriptionField.attr("placeholder",e),this.twitterDescriptionField.attr("placeholder",e)),this.socialDescription.text(Object(i.isUndefined)(e)?"":e)}},{key:"updateThumbnailPreview",value:function(){var e=r()("#rank_math_post_thumbnail").attr("src"),t=rankMathEditor.assessor.dataCollector.getData("content"),n=/<img(?:[^>]+)?>/.test(t)&&r()(t).find("img:first").attr("src"),a=this.facebookImageField.val()||e||n||rankMath.defautOgImage,i=this.twitterImageField.val()||e||n||rankMath.defautOgImage;if("twitter"===this.currentNetwork&&this.useFacebook)i=a;else if(this.twitterImageStatus.find("img.cmb-file-field-image").length){var s=this.twitterImageStatus.siblings(".notice"),o=this.twitterImageStatus.find("img.cmb-file-field-image")[0];s.addClass("hidden"),r()(o).on("load",(function(){(o.naturalWidth<200||o.naturalHeight<200)&&s.removeClass("hidden")}))}var c=this.facebookImageStatus.siblings(".notice"),l=this.facebookImageStatus.find("img.cmb-file-field-image");c.addClass("hidden"),"facebook"===this.currentNetwork&&this.facebookImageField.val()&&l.length&&r()(l[0]).on("load",(function(){(l[0].naturalWidth<200||l[0].naturalHeight<200)&&c.removeClass("hidden")}));var u=r()(".rank-math-social-preview-image");r()(".facebook-thumbnail",u).attr("src",a),r()(".twitter-thumbnail",u).attr("src",i),u.toggleClass("no-facebook-image",!a),u.toggleClass("no-twitter-image",!i),u.parents(".rank-math-social-preview-facebook").find(".error-msg").toggleClass("show",!a),u.parents(".rank-math-social-preview-twitter").find(".error-msg").toggleClass("show",!i),this.updateThumbnailOverlay()}},{key:"updateThumbnailOverlay",value:function(){var e=r()(".rank-math-social-preview-image-overlay"),t=r()('[name="rank_math_'+this.currentNetwork+'_enable_image_overlay"]:checked').val(),n=!r()(".rank-math-social-preview-image").hasClass("no-"+this.currentNetwork+"-image"),a=r()('[name="rank_math_'+this.currentNetwork+'_image_overlay"]:checked').val();"twitter"===this.currentNetwork&&this.useFacebook&&(a=r()('[name="rank_math_facebook_image_overlay"]:checked').val(),n=!1);var i=r()(".cmb2-id-rank-math-"+this.currentNetwork+"-enable-image-overlay"),s="on"===i.find("input:checked").val();i.toggle(n),i.find(".notice-warning").toggle(s),"on"===t?(e.attr("src",rankMath.overlayImages[a].url).show(),r()(".cmb2-id-rank-math-"+this.currentNetwork+"-image-overlay").toggle(n)):e.hide()}},{key:"hideDescription",value:function(){this.socialDescription.removeClass("hidden"),22<this.socialTitle.height()&&this.socialDescription.addClass("hidden")}},{key:"truncate",value:function(e,t){return t<e.length?e.substring(0,t):e}}])&&Z(t.prototype,n),e}(),te=function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"post"===rankMath.objectType){var t={off:"rm-icon-misc",article:"rm-icon-post",book:"rm-icon-book",course:"rm-icon-course",event:"rm-icon-calendar",jobposting:"rm-icon-job",local:"rm-icon-local-seo",music:"rm-icon-music",product:"rm-icon-cart",recipe:"rm-icon-recipe",restaurant:"rm-icon-restaurant",video:"rm-icon-video",person:"rm-icon-users",review:"rm-icon-star",service:"rm-icon-service",software:"rm-icon-software"},n=r()('.rank-math-tabs-navigation a[href="#setting-panel-richsnippet"] .dashicons'),a=r()("#_bsf_post_type");if(r()('#rank_math_rich_snippet, input[type="radio"][name="rank_math_rich_snippet"]').on("change",(function(){var e="rank_math_rich_snippet"===r()(this).attr("id")?r()(this).val():r()('input[type="radio"][name="rank_math_rich_snippet"]:checked').val();n.removeClass().addClass("rm-icon "+t[e]),a.length&&"off"!==e&&a.val("0").trigger("change")})).trigger("change"),a.length){var i=r()("#rank_math_rich_snippet"),s=r()('input[name="rank_math_rich_snippet"][value="off"]');a.on("change",(function(){"0"!==a.val()&&(i.val("off").trigger("change"),s.prop("checked",!0).trigger("change"))})).trigger("change")}}};function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ae=function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"post"===rankMath.objectType&&rankMath.postSettings.linkSuggestions){if(r.a.fn.extend({insertLink:function(e,t){var n=this[0],a="";if(n.selectionStart||"0"===n.selectionStart){var r=n.selectionStart,i=n.selectionEnd,s=n.scrollTop;a='<a href="'+e+'">'+n.value.substring(r,i)+"</a>",r===i&&(a='<a href="'+e+'">'+t+"</a>"),n.value=n.value.substring(0,r)+a+n.value.substring(i,n.value.length),n.focus(),n.selectionStart=r+a.length,n.selectionEnd=r+a.length,n.scrollTop=s}else n.value+=a='<a href="'+e+'">'+t+"</a>",n.focus()}}),"function"==typeof ClipboardJS&&new ClipboardJS(".suggestion-copy").on("success",(function(e){var t=r()(e.trigger).parent().next(".suggestion-title"),n=t.html();t.text("Link Copied"),setTimeout((function(){t.html(n)}),1500)})),"object"!==("undefined"==typeof tinymce?"undefined":ne(tinymce)))return!0;var t=null,n=null;r()(".suggestion-insert").on("click",(function(e){e.preventDefault();var a,i,s,o,c=r()(this);if(c.hasClass("clicked"))return!0;if(null!==tinymce.activeEditor&&!0!==tinymce.activeEditor.isHidden()){t=tinymce.activeEditor,n=r()(t.getBody());var l=t.selection.getContent()||"";if(n.find("a[data-mce-selected]").length){var u=(i=a="",s=t.selection.getStart(),(o=t.dom.getParent(s,"a[href]"))||(i=t.selection.getContent({format:"raw"}))&&~i.indexOf("</a>")&&((a=i.match(/href="([^">]+)"/))&&a[1]&&(o=t.$('a[href="'+a[1]+'"]',s)[0]),o&&t.selection.select(o)),o);t.dom.setAttribs(u,{href:c.data("url")}),r()(u).text()!==l&&t.insertContent(l)}else t.insertContent(l.length?'<a href="'+c.data("url")+'">'+l+"</a>":'<a href="'+c.data("url")+'">'+c.data("text")+"</a>")}else{var h=r()("textarea.wp-editor-area:visible");h.length&&h.first().insertLink(c.data("url"),c.data("text"))}var d=c.closest(".suggestion-item").find(".suggestion-title"),p=d.html();d.text("Link Inserted"),c.addClass("clicked"),setTimeout((function(){var e,t,n,a;d.html(p),c.removeClass("clicked"),!0===rankMath.postSettings.useFocusKeyword&&(t=c,n=(e=d).data("fkcount")||0,(n+=1)===(a=e.data("fk")).length&&(n=0),e.find(">a").text(a[n]),e.data("fkcount",n),t.data("text",a[n]))}),1500)})),r()("#rank_math_metabox_link_suggestions").find("h2").append(r()("#rank-math-link-suggestions-tooltip").html())}},re=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"post"===rankMath.objectType&&r()("[data-primary-term]").each((function(){var e=r()(this),t=e.val(),n=e.data("primary-term"),a=r()("#"+n+"div"),i=r()("#"+n+"checklist"),s=i.find("li"),o=i.find('input[type="checkbox"]:checked');s.addClass("rank-math-primary-term-li"),s.find("input").each((function(){var e=r()(this);e.parent().append('<span class="rank-math-tooltip"><input class="rank-math-make-primary" value="'+e.val()+'" type="radio" name="rank_math_primary_'+n+'"><span>Make Term Primary</span></span>')})),o.each((function(){var e=r()(this).closest("li");e.addClass("term-checked"),n+"-"+t===e.attr("id")&&(e.addClass("term-marked-primary"),e.find(">label .rank-math-make-primary").prop("checked",!0))})),a.on("click",'input[type="checkbox"]',(function(){var t=r()(this).closest("li");if(t.toggleClass("term-checked"),1===i.find("li.term-checked").length||t.hasClass("term-marked-primary")&&!t.hasClass("term-checked")){var n=i.find("li.term-checked:first > label .rank-math-make-primary");0<n.length?n.trigger("click"):(s.removeClass("term-marked-primary"),s.find('input[type="radio"]').prop("checked",!1),e.val(""))}})),a.on("click",".rank-math-make-primary",(function(){var t=r()(this),n=t.closest("li");s.removeClass("term-marked-primary"),n.addClass("term-marked-primary"),e.val(t.val())})),i.on("wpListAddEnd",(function(){i.find("li:not(.rank-math-primary-term-li)").addClass("rank-math-primary-term-li term-checked").find("input").each((function(){var e=r()(this);e.parent().append('<span class="rank-math-tooltip"><input class="rank-math-make-primary" value="'+e.val()+'" type="radio" name="rank_math_primary_'+n+'"><span>Make Term Primary</span></span>')}))}))}))},ie=n(28),se=n.n(ie),oe=n(19);function ce(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var le=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),rankMath.canUser.general){this.elem=r()("#rank_math_focus_keyword"),this.elemWrapper=this.elem.parent(),this.clickCount=0,this.selectedKeyword={};var t={add:this.onAdd.bind(this),remove:this.onRemove.bind(this),edit:this.onEdit.bind(this),click:this.onClick.bind(this),setup:this.onSetup.bind(this)};rankMath.isUserRegistered&&(t.input=Object(i.debounce)(this.onInput.bind(this),300)),this.tagify=new se.a(this.elem[0],{addTagOnBlur:!0,maxTags:"post"===rankMath.objectType?rankMath.maxTags:1,whitelist:this.whitelist||[],callbacks:t}),this.selectFirstKeyword(),this.setKeywordsClasses=this.setKeywordsClasses.bind(this),Object(o.addAction)("rank_math_refresh_results","rank-math",this.setKeywordsClasses,11)}}var t,n;return t=e,(n=[{key:"onInput",value:function(e){var t=this;(e=Object(i.has)(e.detail,"value")?e.detail.value:e.detail.data.value).length<2||(this.hasAdded?this.hasAdded=!1:this.request=r.a.ajax({url:rankMath.keywordsApi.url,data:{keyword:e,locale:rankMath.locale},success:function(n){if(t.hasAdded)t.hasAdded=!1;else{var a=r.a.map(n,(function(e){return e}));t.tagify.settings.whitelist=a,t.tagify.dropdown.show.call(t.tagify,e)}}}))}},{key:"onAdd",value:function(e){this.hasAdded=!0,e.detail.tag.classList.add("bad-fk"),this.updateSelectedKeyword(e.detail),this.updateKeywords()}},{key:"onRemove",value:function(e){0===e.detail.index&&this.onSetup(),rankMathEditor.resultManager.deleteResult(e.detail.data.value),this.selectFirstKeyword(),this.updateKeywords()}},{key:"onClick",value:function(e){this.updateSelectedKeyword(e.detail),setTimeout((function(){Object(o.doAction)("rank_math_refresh_results")}),500)}},{key:"onEdit",value:function(e){e.detail.tag.setAttribute("value",e.detail.data.value),this.hasAdded=!0,this.updateKeywords()}},{key:"onSetup",value:function(){this.selectFirstKeyword(),this.setKeywordsClasses()}},{key:"updateSelectedKeyword",value:function(e){this.elemWrapper.find("tag.selected").removeClass("selected"),""!==e.tag?(this.selectedKeyword=e).tag.classList.add("selected"):this.selectedKeyword={}}},{key:"setKeywordsClasses",value:function(){if(void 0!==this.tagify.value){var e=this.tagify.value;if(0<e.length){var t=this.elemWrapper.find("tag");e.map((function(e,n){var a=rankMathEditor.resultManager.getScore(s.Helpers.removeDiacritics(e.value));t[n].classList.remove("ok-fk","good-fk","bad-fk"),t[n].classList.add(Object(oe.a)(a))}))}}}},{key:"selectFirstKeyword",value:function(){var e=this.elemWrapper.find("tag"),t={tag:"",index:0,data:{value:""}};0<e.length&&(t={tag:e[0],index:0,data:{value:e[0].getAttribute("value")}}),this.updateSelectedKeyword(t)}},{key:"updateKeywords",value:function(){rankMathEditor.refresh("keyword")}},{key:"getFocusKeywords",value:function(){if(void 0===this.tagify||void 0===this.tagify.value)return[""];var e=this.tagify.value.map((function(e){return e.value}));return e.length?e:[""]}},{key:"getSelectedKeyword",value:function(){return Object(i.get)(this.selectedKeyword,["data","value"],"")}}])&&ce(t.prototype,n),e}();function ue(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var he=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.image_src="",this.image_alt="",this.getFeaturedImage(),this.setImage(),this.removeImage(),Object(h.a)()&&this.gutenbergImage()}var t,n;return t=e,(n=[{key:"setImage",value:function(){var e=this;if(!Object(i.isUndefined)(wp.media)){var t=wp.media.featuredImage.frame();t.on("select",(function(){var n=r()("#rank_math_post_thumbnail"),a=t.state().get("selection").first().toJSON();e.sizeWarning(a),n.length<1&&(n=r()('<img id="rank_math_post_thumbnail" />'),r()(".facebook-thumbnail",".rank-math-social-preview-image").before(n)),n.attr("src","large"in a.sizes?a.sizes.large.url:a.sizes.full.url),e.setFeaturedImage(a)}))}}},{key:"removeImage",value:function(){var e=this;r()("#postimagediv").on("click","#remove-post-thumbnail",(function(){r()("#rank_math_image_warning").remove(),r()("#rank_math_post_thumbnail").remove(),e.setFeaturedImage("")}))}},{key:"gutenbergImage",value:function(){var e,t,n=this;wp.data.subscribe((function(){var a=wp.data.select("core/editor").getEditedPostAttribute("featured_media");n.isValidMediaId(a)&&(e=wp.data.select("core").getMedia(a),Object(i.isUndefined)(e)||e!==t&&n.setFeaturedImage({url:(t=e).guid.rendered,alt:e.alt_text}))}))}},{key:"setFeaturedImage",value:function(e){var t={src:Object(i.get)(e,"url",""),alt:Object(i.get)(e,"alt","")};Object(o.doAction)("rank_math_updated_featured_image",t)}},{key:"sizeWarning",value:function(e){if(r()("#rank_math_image_warning").remove(),e.width<=200||e.height<=200){var t=r()("#postimagediv").find(".hndle");r()('<div id="rank_math_image_warning" class="notice notice-error notice-alt"><p>'+rankMath.featuredImageNotice+"</p></div>").insertAfter(t)}}},{key:"getFeaturedImage",value:function(){var e=r()("#postimagediv img");e&&!e.length||this.setFeaturedImage({url:e[0].src,alt:e[0].alt})}},{key:"isValidMediaId",value:function(e){return"number"==typeof e&&0<e}}])&&ue(t.prototype,n),e}(),de=n(29);function pe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var fe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),rankMath.canUser.analysis&&(r()("#setting-panel-general").append('<div id="rank-math-serp-checklist" class="rank-math-serp-checklist"></div>'),this.elem=r()("#rank-math-serp-checklist"),this.scoreText=rankMath.showScore?'<span class="score-text"><span class="score-icon"><svg viewBox="0 0 460 460" xmlns="http://www.w3.org/2000/svg" width="20"><g><path d="m462 234.84-76.17 3.43 13.43 21-127 81.18-126-52.93-146.26 60.97 10.14 24.34 136.1-56.71 128.57 54 138.69-88.61 13.43 21z"/><path d="m54.1 312.78 92.18-38.41 4.49 1.89v-54.58h-96.67zm210.9-223.57v235.05l7.26 3 89.43-57.05v-181zm-105.44 190.79 96.67 40.62v-165.19h-96.67z"/></g></svg></span> SEO: <strong>Not available</strong></span>':"",this.fkScoreText=rankMath.showScore?'<span class="score-text">Not available</span>':"",this.scoreElem=r()('<div class="misc-pub-section rank-math-seo-score loading">'+this.scoreText+"</div>"),this.scoreText=this.scoreElem.find("strong"),this.scoreField=r()("#rank_math_seo_score"),this.fkScoreElem=r()('<div class="rank-math-seo-score loading below-focus-keyword">'+this.fkScoreText+"</div>"),this.fkScoreText=this.fkScoreElem.find("span"),r()("#misc-publishing-actions").append(this.scoreElem),r()(".cmb-td",".cmb2-id-rank-math-focus-keyword").append(this.fkScoreElem),this.events(),this.refreshResults=this.refreshResults.bind(this),Object(o.addAction)("rank_math_refresh_results","rank-math",this.refreshResults))}var t,n;return t=e,(n=[{key:"events",value:function(){var e=this;this.elem.on("click",".group-handle",(function(t){t.preventDefault();var n=r()(t.target),a={},i=n.closest(".rank-math-serp-group");i.toggleClass("state-open state-closed"),e.elem.find(">.rank-math-serp-group").each((function(){i=r()(this),a[i.data("id")]=i.hasClass("state-closed")?"closed":"open"})),r.a.ajax({url:rankMath.ajaxurl,type:"POST",data:{action:"rank_math_save_checklist_layout",security:rankMath.security,layout:a}})}))}},{key:"refreshResults",value:function(){var e=this,t=rankMathEditor.getSelectedKeyword();if(this.isPrimary=t===rankMathEditor.getPrimaryKeyword(),this.results=rankMathEditor.resultManager.getResult(t),Object(i.isUndefined)(this.results))return null;var n=Object.keys(this.getGroups()).map((function(t){return e.renderGroup(t)}));this.elem.html(n),this.updateScore()}},{key:"renderGroup",value:function(e){this.errors=0;var t=this.renderGroupItems(e),n="basic"===e||r()("#rank-math-serp-group-"+e).hasClass("state-open")?"state-open":"state-closed",a=0===this.errors?"test-ok":"test-fail",i=Object(c.__)("All Good","rank-math");return 0<this.errors&&(i=1===this.errors?this.errors+" "+Object(c.__)("Error","rank-math"):this.errors+" "+Object(c.__)("Errors","rank-math")),'\n\t\t<div id="rank-math-serp-group-'.concat(e,'" class="rank-math-serp-group ').concat(n,'" data-id="').concat(e,'">\n\t\t\t<div class="group-handle">\n\t\t\t\t<h4>').concat(this.getGroupTitle(e),'</h4>\n\t\t\t\t<span class="rank-math-group-score ').concat(a,'">').concat(i,'</span>\n\t\t\t\t<button type="button" class="group-handlediv" aria-expanded="true"><span class="screen-reader-text"></span><span class="toggle-indicator"></span></button>\n\t\t\t</div>\n\t\t\t<ul>').concat(t,"</ul>\n\t\t</div>")}},{key:"renderGroupItems",value:function(e){var t=this,n=this.results.results,a=this.getGroupItems(e),r="";return Object.keys(a).map((function(e){if(Object(i.isUndefined)(n[e])||!t.isPrimary&&a[e])return!1;var s=n[e],o="seo-check-"+e;o+=s.hasScore()?" test-ok":" test-fail",s.hasScore()&&["contentHasAssets","lengthContent","keywordDensity"].includes(e)&&(o+=" "+Object(de.a)(s.getScore(),s.getMaxScore())),"fleschReading"===e&&s.hasScore()&&(o+=" "+s.note.replace(/ /g,"-")),!1===s.hasScore()&&(t.errors+=1);var c=s.hasTooltip()?'<span class="rank-math-tooltip"><em class="dashicons-before dashicons-editor-help" ></em><span>'+s.getTooltip()+"</span></span>":"";r+='<li key="'.concat(e,'" class="').concat(o,'">\n\t\t\t\t\t<span>').concat(s.getText(),"</span>\n\t\t\t\t\t").concat(c,"\n\t\t\t\t</li>")})),r}},{key:"updateScore",value:function(){var e=rankMathEditor.resultManager.getScore(rankMathEditor.getPrimaryKeyword()),t=Object(oe.a)(e);this.scoreElem.removeClass("loading bad-fk ok-fk good-fk"),this.fkScoreElem.removeClass("loading bad-fk ok-fk good-fk"),this.scoreElem.addClass(t),this.fkScoreElem.addClass(t),this.scoreText.html(e+" / 100"),this.fkScoreText.html(e+" / 100"),this.scoreField.val(parseInt(e))}},{key:"getGroupItems",value:function(e){return("post"===rankMath.objectType?{basic:{keywordInTitle:!0,keywordInMetaDescription:!0,keywordInPermalink:!0,keywordIn10Percent:!0,keywordInContent:!1,lengthContent:!1},advanced:{keywordInSubheadings:!1,keywordInImageAlt:!0,keywordDensity:!1,lengthPermalink:!1,linksHasExternals:!1,linksNotAllExternals:!1,linksHasInternal:!1,keywordNotUsed:!0},"title-readability":{titleStartWithKeyword:!0,titleSentiment:!1,titleHasPowerWords:!1,titleHasNumber:!1},"content-readability":{contentHasTOC:!1,contentHasShortParagraphs:!1,contentHasAssets:!1}}:{basic:{keywordInTitle:!0,keywordInMetaDescription:!0,keywordInPermalink:!0},advanced:{titleStartWithKeyword:!0,keywordNotUsed:!0}})[e]}},{key:"getGroupTitle",value:function(e){return this.getGroups()[e]}},{key:"getGroups",value:function(){return"post"===rankMath.objectType?{basic:Object(c.__)("Basic SEO","rank-math"),advanced:Object(c.__)("Additional","rank-math"),"title-readability":Object(c.__)("Title Readability","rank-math"),"content-readability":Object(c.__)("Content Readability","rank-math")}:{basic:Object(c.__)("Basic SEO","rank-math"),advanced:Object(c.__)("Additional","rank-math")}}}])&&pe(t.prototype,n),e}();function me(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var ke=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"setup",value:function(){this.elemMetabox=r()("#cmb2-metabox-rank_math_metabox"),this.resultManager=new s.ResultManager,this.assessor=new u(this.getCollector()),new d.a,this.registerComponents=this.registerComponents.bind(this),Object(o.addAction)("rank_math_loaded","rank-math",this.registerComponents,1)}},{key:"registerComponents",value:function(){this.components={},this.components.SerpPreview=new X,this.components.socialFields=new ee,this.components.richSnippet=new te,this.components.linkSuggestions=new ae,this.components.primaryTerm=new re,this.components.focusKeywords=new le,this.components.featuredImage=new he,this.components.checkLists=new fe,rankMathAdmin.variableInserter(!1)}},{key:"refresh",value:function(e){this.assessor.refresh(e)}},{key:"updatePermalink",value:function(e){e=this.assessor.getResearch("slugify")(e),this.assessor.dataCollector.handleSlugChange(e)}},{key:"getPrimaryKeyword",value:function(){return s.Helpers.removeDiacritics(this.components.focusKeywords.getFocusKeywords()[0])}},{key:"getSelectedKeyword",value:function(){var e=this.components.focusKeywords.getSelectedKeyword();return Object(i.isUndefined)(e)?"":s.Helpers.removeDiacritics(this.components.focusKeywords.getSelectedKeyword())}},{key:"getCollector",value:function(){return"post"===rankMath.objectType?Object(h.a)()?new y:new T(this):"term"===rankMath.objectType?new I:"user"===rankMath.objectType?new R:void 0}}])&&me(t.prototype,n),e}();r()(document).ready((function(){window.rankMathEditor=new ke,window.rankMathEditor.setup(),window.RankMathApp=new f})),r()(window).on("load",(function(){Object(o.doAction)("rank_math_loaded")}))},8:function(e,t){e.exports=rankMathAnalyzer},9:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(4),r=n.n(a);function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=null}var t,n;return t=e,(n=[{key:"swap",value:function(e,t){var n=this;if(!(e=e||""))return"";return e.replace(" %page%","").replace("%sep% %sep%","%sep%").replace(/%(([a-z0-9_-]+)\(([^)]*)\)|[^\s]+)%/giu,(function(e){return n.replace(t,e)})).trim()}},{key:"replace",value:function(e,t){var n=t.toLowerCase().replace(/%+/g,"");return["term_description","user_description"].includes(n)?r()("#description").val():n.includes("customfield(")?(n=n.replace("customfield(","").replace(")",""))in rankMath.customFields?rankMath.customFields[n]:"":(e=e||this.getMap(),(n="seo_description"===(n="seo_title"===(n=n.includes("(")?n.split("(")[0]:n)?"title":n)?"excerpt":n)in e?e[n]:n)}},{key:"getMap",value:function(){var e=this;return null!==this.map||(this.map={},r.a.each(rankMath.variables,(function(t,n){t=t.toLowerCase().replace(/%+/g,"").split("(")[0],e.map[t]=n.example}))),this.map}},{key:"setVariable",value:function(e,t){null!==this.map?this.map[e]=t:void 0!==rankMath.variables[e]&&(rankMath.variables[e].example=t)}}])&&i(t.prototype,n),e}())}});